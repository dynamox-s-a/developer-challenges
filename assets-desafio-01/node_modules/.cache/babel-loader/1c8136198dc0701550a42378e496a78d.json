{"ast":null,"code":"import { get as r, set as e } from \"react-hook-form\";\n\nvar i = function (e, i) {\n  for (var a in i.fields) {\n    var f = i.fields[a];\n\n    if (f && f.ref && \"reportValidity\" in f.ref) {\n      var t = r(e, a);\n      f.ref.setCustomValidity(t && t.message || \"\"), f.ref.reportValidity();\n    }\n  }\n},\n    a = function (a, f) {\n  f.shouldUseNativeValidation && i(a, f);\n  var t = {};\n\n  for (var o in a) {\n    var s = r(f.fields, o);\n    e(t, o, Object.assign(a[o], {\n      ref: s && s.ref\n    }));\n  }\n\n  return t;\n};\n\nexport { a as toNestError, i as validateFieldsNatively };","map":{"version":3,"sources":["../src/validateFieldsNatively.ts","../src/toNestError.ts"],"names":["validateFieldsNatively","errors","options","fieldPath","fields","field","ref","error","get","setCustomValidity","message","reportValidity","toNestError","shouldUseNativeValidation","fieldErrors","path","set","Object","assign"],"mappings":";;AAGaA,IAAAA,CAAAA,GAAyB,UACpCC,CADoC,EAEpCC,CAFoC,EAEpCA;AAEA,OAAK,IAAMC,CAAX,IAAwBD,CAAAA,CAAQE,MAAhC,EAAwC;AACtC,QAAMC,CAAAA,GAAQH,CAAAA,CAAQE,MAARF,CAAeC,CAAfD,CAAd;;AAEA,QAAIG,CAAAA,IAASA,CAAAA,CAAMC,GAAfD,IAAsB,oBAAoBA,CAAAA,CAAMC,GAApD,EAAyD;AACvD,UAAMC,CAAAA,GAAQC,CAAAA,CAAIP,CAAJO,EAAYL,CAAZK,CAAd;AAEAH,MAAAA,CAAAA,CAAMC,GAAND,CAAUI,iBAAVJ,CAA6BE,CAAAA,IAASA,CAAAA,CAAMG,OAAfH,IAA2B,EAAxDF,GAEAA,CAAAA,CAAMC,GAAND,CAAUM,cAAVN,EAFAA;AAEUM;AAAAA;AAAAA,CAZHX;AAAAA,ICOAY,CAAAA,GAAc,UACzBX,CADyB,EAEzBC,CAFyB,EAEzBA;AAEAA,EAAAA,CAAAA,CAAQW,yBAARX,IAAqCF,CAAAA,CAAuBC,CAAvBD,EAA+BE,CAA/BF,CAArCE;AAEA,MAAMY,CAAAA,GAAyC,EAA/C;;AACA,OAAK,IAAMC,CAAX,IAAmBd,CAAnB,EAA2B;AACzB,QAAMI,CAAAA,GAAQG,CAAAA,CAAIN,CAAAA,CAAQE,MAAZI,EAAoBO,CAApBP,CAAd;AAEAQ,IAAAA,CAAAA,CACEF,CADFE,EAEED,CAFFC,EAGEC,MAAAA,CAAOC,MAAPD,CAAchB,CAAAA,CAAOc,CAAPd,CAAdgB,EAA4B;AAAEX,MAAAA,GAAAA,EAAKD,CAAAA,IAASA,CAAAA,CAAMC;AAAtB,KAA5BW,CAHFD,CAAAA;AAOF;;AAAA,SAAOF,CAAP;AAAOA,CDxBId;;ACwBJc,SAAAA,CAAAA,IAAAA,WAAAA,EAAAA,CAAAA,IAAAA,sBAAAA","sourcesContent":["import { get, FieldError, ResolverOptions } from 'react-hook-form';\n\n// Native validation (web only)\nexport const validateFieldsNatively = <TFieldValues>(\n  errors: Record<string, FieldError>,\n  options: ResolverOptions<TFieldValues>,\n): void => {\n  for (const fieldPath in options.fields) {\n    const field = options.fields[fieldPath];\n\n    if (field && field.ref && 'reportValidity' in field.ref) {\n      const error = get(errors, fieldPath) as FieldError | undefined;\n\n      field.ref.setCustomValidity((error && error.message) || '');\n\n      field.ref.reportValidity();\n    }\n  }\n};\n","import {\n  set,\n  get,\n  FieldError,\n  FieldErrors,\n  Field,\n  ResolverOptions,\n} from 'react-hook-form';\nimport { validateFieldsNatively } from './validateFieldsNatively';\n\nexport const toNestError = <TFieldValues>(\n  errors: Record<string, FieldError>,\n  options: ResolverOptions<TFieldValues>,\n): FieldErrors<TFieldValues> => {\n  options.shouldUseNativeValidation && validateFieldsNatively(errors, options);\n\n  const fieldErrors: FieldErrors<TFieldValues> = {};\n  for (const path in errors) {\n    const field = get(options.fields, path) as Field['_f'] | undefined;\n\n    set(\n      fieldErrors,\n      path,\n      Object.assign(errors[path], { ref: field && field.ref }),\n    );\n  }\n\n  return fieldErrors;\n};\n"]},"metadata":{},"sourceType":"module"}